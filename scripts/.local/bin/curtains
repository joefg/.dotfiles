#!/usr/bin/env sh

function darken(){
	echo "Closing curtains..."
	sed -i -e 's/tomorrow.conf/tomorrow-night.conf/g' ~/.config/tmux/tmux.conf
	gsettings set org.gnome.desktop.interface color-scheme "prefer-dark"
	gsettings set org.gnome.desktop.interface gtk-theme "Adwaita-dark"
}

function lighten(){
	echo "Opening curtains..."
	sed -i -e 's/tomorrow-night.conf/tomorrow.conf/g' ~/.config/tmux/tmux.conf
	gsettings set org.gnome.desktop.interface color-scheme "prefer-light"
	gsettings set org.gnome.desktop.interface gtk-theme "Adwaita"
}

function curtains(){
	COLORSCHEME="$(gsettings get org.gnome.desktop.interface color-scheme)"
	if [ $COLORSCHEME = "'prefer-light'" ]; then
		darken
	else
		lighten
	fi
	tmux source-file ~/.config/tmux/tmux.conf
}

curtains $1
